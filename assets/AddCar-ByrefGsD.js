import{_ as C,i as U,r as d,c as n,a as e,j as i,v as f,n as r,g as b,F as K,k as Q,l as g,m as F,o as u,p as O,d as R}from"./index-aHf831tW.js";import{E as T}from"./Emitter-BG7KJySb.js";const l=c=>(O("data-v-7873073d"),c=c(),R(),c),Z={class:"page int"},z={class:"form-control"},D=l(()=>e("label",{for:"placa",class:"label-required"},"Placa:",-1)),$={key:0,class:"error-message"},j={key:1,class:"error-message"},L={class:"form-control"},X=l(()=>e("label",{for:"modelo",class:"label-required"},"Modelo:",-1)),G={key:0,class:"error-message"},H={id:"modelos"},J=["value"],W={class:"form-group",id:"segmentacao"},Y=l(()=>e("legend",null,"Segmentação",-1)),ee={class:"field"},ae=l(()=>e("label",{for:"consumidor",class:"label-radio consumidor"},"Consumidor",-1)),oe={class:"field"},te=l(()=>e("label",{for:"revenda",class:"label-radio revenda"},"Revenda",-1)),le={class:"form-group",id:"tipo"},se=l(()=>e("legend",null,"Tipo de serviço",-1)),de={class:"field"},ie=l(()=>e("label",{for:"tp",class:"label-radio tp"},"Troca de peça",-1)),ne={class:"field"},ue=l(()=>e("label",{for:"sm",class:"label-radio sm"},"Serviço mecânico",-1)),re={class:"form-control"},ce=l(()=>e("label",{for:"qtdPecas",class:"label-required"},"Quantidade de Peças:",-1)),me={key:0,class:"error-message"},ve=l(()=>e("summary",null,"Alguma observação sobre o veículo?",-1)),pe={class:"form-control"},_e=l(()=>e("label",{for:"observacao",class:"label"},"Observação:",-1)),fe=l(()=>e("i",{class:"ri-save-3-fill"},null,-1)),be={__name:"AddCar",setup(c){U(()=>{T.emit("add-car"),setTimeout(()=>{T.emit("name-route","Finalizar etapa troca de peças")},100)});const B=d(["Argo","Onix","Onix Plus","KA","Mobi"]),a=d({placa:null,modelo:null,segmentacao:null,tipo:null,qtdPecas:null,observacao:""}),m=d(!0),v=d(!0),p=d(!0),h=d(!0),V=d(!0),_=d(!0);function x(){if(!a.value.placa){document.getElementById("placa").scrollIntoView({behavior:"smooth"}),v.value=!1;return}v.value=!0;const s=a==null?void 0:a.value.placa.trim(),t=/^[A-Z]{3}\d[A-Z]\d{2}$/,o=/^[A-Z]{3}-\d{4}$/;m.value=t.test(s)||o.test(s),m.value||document.getElementById("placa").scrollIntoView({behavior:"smooth"})}let y,P,E;const A=()=>{y&&clearTimeout(y),y=setTimeout(()=>{x()},600)},M=()=>{P&&clearTimeout(P),P=setTimeout(()=>{I()},600)},N=()=>{E&&clearTimeout(E),E=setTimeout(()=>{q()},600)};function I(){const s=a.value.modelo;p.value=!0,(!s||s=="")&&(p.value=!1,document.getElementById("modelo").scrollIntoView({behavior:"smooth"}))}function S(){if(!a.value.segmentacao){document.getElementById("segmentacao").scrollIntoView({behavior:"smooth"}),h.value=!1;return}h.value=!0}function k(){if(!a.value.tipo){document.getElementById("tipo").scrollIntoView({behavior:"smooth"}),V.value=!1;return}V.value=!0}function q(){const s=a.value.qtdPecas;_.value=!0,(!s||s=="")&&(_.value=!1,document.getElementById("qtdPecas").scrollIntoView({behavior:"smooth"}))}const w=()=>{x(),I(),S(),k(),q()};return(s,t)=>(u(),n("main",Z,[e("div",z,[D,i(e("input",{type:"text",tabindex:"1",class:r({input:!0,invalid:!m.value||!v.value}),"onUpdate:modelValue":t[0]||(t[0]=o=>a.value.placa=o),id:"placa",maxlength:"7",onKeyup:A,placeholder:"placa do veículo. EX: ABC1D123 ou ABC-1234",onBlur:x},null,34),[[f,a.value.placa]]),m.value?b("",!0):(u(),n("p",$,"Placa inválida!")),v.value?b("",!0):(u(),n("p",j,"Placa é obrigatória!"))]),e("div",L,[X,i(e("input",{type:"text",list:"modelos",tabindex:"2",class:r({input:!0,invalid:!p.value}),"onUpdate:modelValue":t[1]||(t[1]=o=>a.value.modelo=o),id:"modelo",onKeyup:M,placeholder:"modelo do veículo"},null,34),[[f,a.value.modelo]]),p.value?b("",!0):(u(),n("p",G,"ops, esqueceu de digitar o modelo!"))]),e("datalist",H,[(u(!0),n(K,null,Q(B.value,o=>(u(),n("option",{value:o},null,8,J))),256))]),e("div",W,[e("fieldset",{class:r({fieldsetNotSelected:!h.value})},[Y,e("div",ee,[ae,i(e("input",{type:"radio",tabindex:"3",id:"consumidor",name:"segmentacao",class:"input-radio","onUpdate:modelValue":t[2]||(t[2]=o=>a.value.segmentacao=o),value:"consumidor"},null,512),[[g,a.value.segmentacao]])]),e("div",oe,[te,i(e("input",{type:"radio",tabindex:"4",id:"revenda",name:"segmentacao",class:"input-radio","onUpdate:modelValue":t[3]||(t[3]=o=>a.value.segmentacao=o),value:"revenda"},null,512),[[g,a.value.segmentacao]])])],2)]),e("div",le,[e("fieldset",{class:r({fieldsetNotSelected:!V.value})},[se,e("div",de,[ie,i(e("input",{type:"radio",tabindex:"5",id:"tp",name:"tipo",class:"input-radio","onUpdate:modelValue":t[4]||(t[4]=o=>a.value.tipo=o),value:"TP"},null,512),[[g,a.value.tipo]])]),e("div",ne,[ue,i(e("input",{type:"radio",tabindex:"6",id:"sm",name:"tipo",class:"input-radio","onUpdate:modelValue":t[5]||(t[5]=o=>a.value.tipo=o),value:"SM"},null,512),[[g,a.value.tipo]])])],2)]),e("div",re,[ce,i(e("input",{type:"tel",min:"1",max:"2",maxlength:"2",tabindex:"7",class:r({input:!0,invalid:!_.value}),"onUpdate:modelValue":t[6]||(t[6]=o=>a.value.qtdPecas=o),id:"qtdPecas",placeholder:"Ex: 3",onKeyup:N},null,34),[[f,a.value.qtdPecas,void 0,{number:!0}]]),_.value?b("",!0):(u(),n("p",me,"ops, esqueceu de digitar a quantidade de peças!"))]),e("details",null,[ve,e("div",pe,[_e,i(e("textarea",{class:"textarea","onUpdate:modelValue":t[7]||(t[7]=o=>a.value.observacao=o),id:"observacao",placeholder:"Ex: veículo com amassado na porta d/d."},null,512),[[f,a.value.observacao]])])]),e("div",{class:"form-control"},[e("button",{class:"btn",onClick:w,tabindex:"8"},[F(" Registrar "),fe])])]))}},Ve=C(be,[["__scopeId","data-v-7873073d"]]);export{Ve as default};
